<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<dht:template xmlns:dht="dynamic-html-templates">
	<dht:stylesheet src="lsrestore.css"/>
	<dht:stylesheet src="../bluebox.css"/>
	<dht:script src="lsrestore.js" x--onloadend="lsrestoreMain"/>
	<dht:snippet name="lsrestorer">
		<div id="restorer" class="blue">
			<h1>Restore warband</h1>
			<div class="panel">
				<span>Warbands that are stored in your browser</span>
				<div class="warning"><b>Warning!</b> This is no way to save your warbands. You may experience <b>full data loss at any time</b> and without predict. The only way to securly save your warbands is via "save to file" to your device.</div>
				<div id="lsrestore-table-frame">
					<dht:insert-snippet name="table-frame"/>
				</div>
				<p>Click any to restore.</p>
			</div>
			<div class="buttons">
				<input type="button" value="cancel" dht:onclick="closeClick"/>
			</div>
		</div>
	</dht:snippet>
	<dht:snippet name="table-frame">
		<table class="localStore">
			<tr>
				<th>Warband</th>
				<th>Figure count</th>
				<th>Points</th>
				<th>Last modified</th>
				<th/>
			</tr>
			<tbody id="lsrestore-tbody">
				<dht:call-function name="listStoredData"/>
			</tbody>
		</table>
	</dht:snippet>
	<dht:snippet name="table-row">
		<tr data-id="{{pid}}" dht:onclick="storageItemClick">
			<td>{{warband-name}}</td>
			<td>{{figure-count}}</td>
			<td>{{points}}</td>
			<td>{{last-modified}}</td>
			<td>
				<span dht:onclick="deleteClick" class="delete">&#x2716;</span>
			</td>
		</tr>
	</dht:snippet>
</dht:template>
